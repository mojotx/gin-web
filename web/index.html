<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="/web/style.css" />
    <title>Dice Commands</title>
</head>

<body>
    <script type="text/javascript">
        function setAction(form) {

            // Display animation

            const url = "http://mbp.jarvis.com:8080/dice"
            const slash = '/';

            const newURL = url + slash + form.diceCmd.value

            fetch(newURL,
                {
                    headers: { "Content-Type": "application/json; charset=utf-8" },
                    method: "GET"
                }).then(data => data.json()).then((json) => {
                    alert(JSON.stringify(json));
                    document.getElementById("form").reset();
                });
            return false
        }
    </script>
    <h1>Dice Commands</h1>
    <h3 id="right"><script type="text/javascript">document.write("This URL is: " + location.href);</script></h3>

    <div>
        <form id="form" onsubmit="return setAction(this)">
            <label for="diceCmd">Please enter a dice command:</label>
            <input type="text" id="diceCmd" name="diceCmd" required minlength="2" maxlength="20" size="20" />
            <input type="submit" value="Send Request" />
        </form>
    <video autoplay loop muted width="179" height="179" src="/dice.mp4">Rolling Dice Animation</video>
    </div>
</body>
</html>
