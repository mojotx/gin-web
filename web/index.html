<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dice Commands</title>
</head>

<script>
    function setAction(form) {
        const url = "http://[::1]:8080/dice"
        const slash = '/';

        const newURL = url + slash + form.diceCmd.value

        fetch(newURL,
            {
                headers: { "Content-Type": "application/json; charset=utf-8" },
                method: "GET",
                body: ""
            }).then(data => data.json()).then((json) => {
                alert(JSON.stringify(json));
                document.getElementById("form").reset();
            });
        return false
    }
</script>

<body>
    <h1>Dice Commands</h1>

    <div>
        <form id="form" onsubmit="return setAction(this)">
            <label for="diceCmd">Please enter a dice command:</label>
            <input type="text" id="diceCmd" name="diceCmd" required minlength="2" maxlength="20" size="20" />
            <input type="submit" value="Send Request" />
        </form>
    </div>


</body>

</html>
